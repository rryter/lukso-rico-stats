<h1>Who are you?</h1>
<span class="subtitle">Step 2 of 3</span>
<form [formGroup]="form" (submit)="submit(form)">
  <pre>{{ form.value | json }}</pre>
  <p>Enter personal info</p>
  <p>
    <mat-form-field class="form-field" [floatLabel]="'always'">
      <mat-label>Name</mat-label>
      <input matInput formControlName="name" [attr.data-cy]="'profile-editor__name'" />
      <mat-error>Name is required.</mat-error>
    </mat-form-field>
  </p>
  <p>
    <mat-form-field class="form-field" [floatLabel]="'always'">
      <mat-label>Description</mat-label>
      <textarea
        rows="3"
        matInput
        #description
        formControlName="description"
        maxlength="256"
        [attr.data-cy]="'profile-editor__description'"
      ></textarea>
      <mat-hint align="end">{{ description.value.length }} / 256</mat-hint>
      <mat-error> Description is required. </mat-error>
    </mat-form-field>
  </p>

  <input matInput formControlName="profileImage" style="display: none" />

  <br /><br />
  <div class="page-actions">
    <div>
      <button
        mat-stroked-button
        type="button"
        (click)="back()"
        [attr.data-cy]="'profile-editor__previous'"
      >
        Previous</button
      >&nbsp;
      <button
        mat-raised-button
        color="primary"
        type="submit"
        [disabled]="!form.valid"
        [attr.data-cy]="'profile-editor__next'"
      >
        <!-- [disabled]="form.pristine" -->
        <span *ngIf="form.dirty">Save</span>
        <span *ngIf="!form.dirty">Next</span>
      </button>
    </div>
  </div>
</form>
